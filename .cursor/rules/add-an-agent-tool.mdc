---
description: this task is for doing qti 3.0 specific research as well as knowing and providing information for qti-api.yaml api endpoints
globs: 
---
# QTI Assessment Engine API (`qti-api.yaml`)

## Overview
The `qti-api.yaml` file defines the OpenAPI 3.0 specification for the QTI Assessment Engine API. This API provides endpoints for managing QTI (Question & Test Interoperability) compliant educational content, including assessment items, tests, and sections.

## API Metadata
- **Title**: QTI Assessment Engine API
- **Version**: 1.0.0
- **Description**: API for managing QTI (Question & Test Interoperability) compliant educational content
- **Base Path**: `/api`

## Endpoints

### Assessment Items
#### `POST /assessment-items`
- **Description**: Creates a new assessment item from QTI XML.
- **Request Body**: XML format (`application/xml` or `text/xml`).
- **Responses**:
  - `201`: Assessment item created successfully.
  - `400`: Failed to parse or save QTI XML.
  - `415`: Unsupported content type.

#### `GET /assessment-items`
- **Description**: Searches assessment items by title or base type.
- **Query Parameters**:
  - `query`: Search query for title.
  - `baseType`: Filter by base type.
- **Responses**:
  - `200`: List of assessment items.
  - `500`: Failed to search assessment items.

#### `GET /assessment-items/{identifier}`
- **Description**: Retrieves an assessment item by identifier.
- **Responses**:
  - `200`: Assessment item details.
  - `404`: Assessment item not found.

#### `PUT /assessment-items/{identifier}`
- **Description**: Updates an existing assessment item.
- **Request Body**: XML format (`application/xml` or `text/xml`).
- **Responses**:
  - `200`: Assessment item updated successfully.
  - `404`: Assessment item not found.
  - `415`: Unsupported content type.

#### `DELETE /assessment-items/{identifier}`
- **Description**: Deletes an assessment item.
- **Responses**:
  - `200`: Assessment item deleted successfully.
  - `404`: Assessment item not found.

### Assessment Tests
#### `POST /assessment-tests`
- **Description**: Creates a new assessment test from XML.
- **Request Body**: XML format (`application/xml` or `text/xml`).
- **Responses**:
  - `201`: Assessment test created successfully.
  - `400`: Failed to parse or save XML.
  - `415`: Unsupported content type.

#### `GET /assessment-tests`
- **Description**: Searches assessment tests by title, navigation mode, or submission mode.
- **Query Parameters**:
  - `query`: Search query for title.
  - `navigationMode`: Linear or nonlinear.
  - `submissionMode`: Individual or simultaneous.
- **Responses**:
  - `200`: List of assessment tests.

#### `GET /assessment-tests/{identifier}`
- **Description**: Retrieves an assessment test by identifier.
- **Responses**:
  - `200`: Assessment test details.
  - `404`: Assessment test not found.

#### `PUT /assessment-tests/{identifier}`
- **Description**: Updates an assessment test.
- **Request Body**: XML format (`application/xml` or `text/xml`).
- **Responses**:
  - `200`: Assessment test updated successfully.
  - `404`: Assessment test not found.
  - `415`: Unsupported content type.

#### `DELETE /assessment-tests/{identifier}`
- **Description**: Deletes an assessment test.
- **Responses**:
  - `200`: Assessment test deleted successfully.
  - `404`: Assessment test not found.

### Sections
#### `POST /sections`
- **Description**: Creates a new section.
- **Request Body**: JSON format.
- **Responses**:
  - `201`: Section created successfully.
  - `400`: Failed to create section.

#### `GET /sections`
- **Description**: Searches sections by various parameters.
- **Query Parameters**:
  - `query`, `assessmentTestId`, `parentId`, `page`, `limit`, `sort`, `order`.
- **Responses**:
  - `200`: List of sections.

#### `GET /sections/{identifier}`
- **Description**: Retrieves a section by identifier.
- **Responses**:
  - `200`: Section details.
  - `404`: Section not found.

#### `PUT /sections/{identifier}`
- **Description**: Updates an existing section.
- **Request Body**: JSON format.
- **Responses**:
  - `200`: Section updated successfully.
  - `404`: Section not found.

#### `DELETE /sections/{identifier}`
- **Description**: Deletes a section.
- **Responses**:
  - `200`: Section deleted successfully.
  - `404`: Section not found.

## Security
The API requires authentication using an API key.
```yaml
security:
  - apiKeyAuth: []
components:
  securitySchemes:
    apiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key
```

## Data Models
### `AssessmentItem`
Defines an assessment item schema.
```yaml
AssessmentItem:
  type: object
  properties:
    id:
      type: integer
    identifier:
      type: string
    title:
      type: string
    baseType:
      type: string
      enum: [identifier, boolean, integer, float, string, point, pair, directedPair, duration, file, uri, intOrIdentifier, stringOrIdentifier]
    rawXml:
      type: string
    createdAt:
      type: string
      format: date-time
    updatedAt:
      type: string
      format: date-time
```
### `AssessmentTest`
Defines an assessment test schema.
```yaml
AssessmentTest:
  type: object
  properties:
    id:
      type: integer
    identifier:
      type: string
    title:
      type: string
    navigationMode:
      type: string
      enum: [linear, nonlinear]
    submissionMode:
      type: string
      enum: [individual, simultaneous]
    rawXml:
      type: string
    createdAt:
      type: string
      format: date-time
    updatedAt:
      type: string
      format: date-time
```

This updated documentation aligns with your `qti-api.yaml` structure, providing clear API descriptions and endpoint details.
